{"remainingRequest":"/Users/xeniya/Desktop/gitogram/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/xeniya/Desktop/gitogram/src/pages/auth/auth.vue?vue&type=template&id=1288885b&scoped=true","dependencies":[{"path":"/Users/xeniya/Desktop/gitogram/src/pages/auth/auth.vue","mtime":1642446323793},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1628298225000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iYy1hdXRoIj4KICAgIDxkaXYgY2xhc3M9ImF1dGhfX2Rlc2MiPgogICAgICA8ZGl2IGNsYXNzPSJhdXRoX190aXRsZSI+CiAgICAgICAgPGljb24gbmFtZT0ibG9nbyIgLz4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImF1dGhfX3RleHQiPgogICAgICAgIE1vcmUgdGhhbiBqdXN0IG9uZSByZXBvc2l0b3J5LiBUaGlzIGlzIG91ciBkaWdpdGFsIHdvcmxkCiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4tYXV0aCIgQGNsaWNrPSJvbkF1dGgiPgogICAgICA8ZGl2IGNsYXNzPSJidG4tYXV0aF9fY29udGVudCI+CiAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWF1dGhfX3RpdGxlIj5BdXRob3JpemUgd2l0aCBnaXRodWI8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJidG4tYXV0aF9faWNvbiI+CiAgICAgICAgICA8aWNvbiBuYW1lPSJhdXRoIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvYnV0dG9uPgogICAgPGRpdiBjbGFzcz0iYXV0aF9faW1nIj4KICAgICAgPGltZyBzcmM9Ii4uLy4uL2ltYWdlcy9jb3Zlci5wbmciIGFsdD0iR2l0b2dyYW0iIGNsYXNzPSJhdXRoX19pY28iIC8+CiAgICA8L2Rpdj4KICA8L2Rpdj4K"},{"version":3,"sources":["/Users/xeniya/Desktop/gitogram/src/pages/auth/auth.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACzD,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACtE,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/xeniya/Desktop/gitogram/src/pages/auth/auth.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"c-auth\">\n    <div class=\"auth__desc\">\n      <div class=\"auth__title\">\n        <icon name=\"logo\" />\n      </div>\n      <div class=\"auth__text\">\n        More than just one repository. This is our digital world\n      </div>\n    </div>\n    <button class=\"btn-auth\" @click=\"onAuth\">\n      <div class=\"btn-auth__content\">\n        <div class=\"btn-auth__title\">Authorize with github</div>\n        <div class=\"btn-auth__icon\">\n          <icon name=\"auth\" />\n        </div>\n      </div>\n    </button>\n    <div class=\"auth__img\">\n      <img src=\"../../images/cover.png\" alt=\"Gitogram\" class=\"auth__ico\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { icon } from '../../icons/'\nimport env from '../../../env'\nexport default {\n  name: 'Auth',\n  components: {\n    icon\n  },\n  data () {\n    return {}\n  },\n  computed: {},\n  methods: {\n    onAuth () {\n      const githubAuthApi = 'https://github.com/login/oauth/authorize'\n      const params = new URLSearchParams()\n      params.append('client_id', env.clientId)\n      params.append('scope', 'repo,user')\n      window.location.href = `${githubAuthApi}?${params}`\n    }\n  },\n  async created () {\n    const code = new URLSearchParams(window.location.search).get('code')\n    if (code) {\n      try {\n        const response = await fetch(\n          'https://webdev-api.loftschool.com/github', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              clientId: env.clientId, code, clientSecret: env.clientSecret\n            })\n          }\n        )\n        const { token } = await response.json()\n        localStorage.setItem('token', token)\n        this.$router.replace({ name: 'feeds' })\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n}\n</script>\n\n<style src=\"./auth.scss\" lang=\"scss\" scoped></style>\n"]}]}