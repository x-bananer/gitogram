{"remainingRequest":"/Users/xeniya/Desktop/gitogram/node_modules/thread-loader/dist/cjs.js!/Users/xeniya/Desktop/gitogram/node_modules/babel-loader/lib/index.js!/Users/xeniya/Desktop/gitogram/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xeniya/Desktop/gitogram/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/xeniya/Desktop/gitogram/src/pages/follow/follow.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xeniya/Desktop/gitogram/src/pages/follow/follow.vue","mtime":1642488971864},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHRvcGxpbmUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy90b3BsaW5lL3RvcGxpbmUudnVlJzsKaW1wb3J0IGxvZ28gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sb2dvL2xvZ28udnVlJzsKaW1wb3J0IHByb2ZpbGVUb29scyBmcm9tICcuLi8uLi9jb21wb25lbnRzL3Byb2ZpbGVUb29scy9wcm9maWxlVG9vbHMudnVlJzsKaW1wb3J0IFByb2ZpbGVVc2VyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcHJvZmlsZVVzZXIvcHJvZmlsZVVzZXIudnVlJzsKaW1wb3J0IGJ1dHRvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL2J1dHRvbi9idXR0b24udnVlJzsKaW1wb3J0IHNwaW5uZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zcGlubmVyL3NwaW5uZXIudnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIGNvbXB1dGVkIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdGb2xsb3cnLAogIGNvbXBvbmVudHM6IHsKICAgIHRvcGxpbmU6IHRvcGxpbmUsCiAgICBsb2dvOiBsb2dvLAogICAgcHJvZmlsZVRvb2xzOiBwcm9maWxlVG9vbHMsCiAgICBQcm9maWxlVXNlcjogUHJvZmlsZVVzZXIsCiAgICB4QnV0dG9uOiBidXR0b24sCiAgICBzcGlubmVyOiBzcGlubmVyCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoKSwKICAgICAgICBkaXNwYXRjaCA9IF91c2VTdG9yZS5kaXNwYXRjaCwKICAgICAgICBzdGF0ZSA9IF91c2VTdG9yZS5zdGF0ZTsKCiAgICB2YXIgbG9hZGluZyA9IHJlZih0cnVlKTsKCiAgICB2YXIgbG9nb3V0ID0gZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBkaXNwYXRjaCgnbG9nb3V0Jyk7CiAgICB9OwoKICAgIHZhciB1blN0YXJTdGFycmVkID0gZnVuY3Rpb24gdW5TdGFyU3RhcnJlZChpZCkgewogICAgICBkaXNwYXRjaCgndW5TdGFyU3RhcnJlZCcsIGlkKTsKICAgIH07CgogICAgdmFyIHN0YXJTdGFycmVkID0gZnVuY3Rpb24gc3RhclN0YXJyZWQoaWQpIHsKICAgICAgZGlzcGF0Y2goJ3N0YXJTdGFycmVkJywgaWQpOwogICAgfTsKCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICB0cnkgewogICAgICAgIGRpc3BhdGNoKCdmZXRjaFVzZXInKTsKICAgICAgICBkaXNwYXRjaCgnZmV0Y2hMaWtlZE9mTWUnKTsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgIHN0YXJyZWQ6IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gc3RhdGUubGlrZWRPZk1lOwogICAgICB9KSwKICAgICAgdXNlcjogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgICB9KSwKICAgICAgbG9nb3V0OiBsb2dvdXQsCiAgICAgIHVuU3RhclN0YXJyZWQ6IHVuU3RhclN0YXJyZWQsCiAgICAgIHN0YXJTdGFycmVkOiBzdGFyU3RhcnJlZAogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/xeniya/Desktop/gitogram/src/pages/follow/follow.vue"],"names":[],"mappings":"AAkFA,OAAO,OAAP,MAAoB,sCAApB;AACA,OAAO,IAAP,MAAiB,gCAAjB;AACA,OAAO,YAAP,MAAyB,gDAAzB;AACA,OAAO,WAAP,MAAwB,8CAAxB;AACA,OAAO,MAAP,MAAmB,oCAAnB;AACA,OAAO,OAAP,MAAoB,sCAApB;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,GAAT,EAAc,SAAd,EAAyB,QAAzB,QAAyC,KAAzC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP,OADU;AAEV,IAAA,IAAI,EAAJ,IAFU;AAGV,IAAA,YAAY,EAAZ,YAHU;AAIV,IAAA,WAAW,EAAX,WAJU;AAKV,IAAA,OAAO,EAAE,MALC;AAMV,IAAA,OAAM,EAAN;AANU,GAFC;AAUb,EAAA,KAVa,mBAUJ;AACP,oBAA4B,QAAQ,EAApC;AAAA,QAAQ,QAAR,aAAQ,QAAR;AAAA,QAAkB,KAAlB,aAAkB,KAAlB;;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,IAAD,CAAnB;;AACA,QAAM,MAAK,GAAI,SAAT,MAAS,GAAM;AACnB,MAAA,QAAQ,CAAC,QAAD,CAAR;AACF,KAFA;;AAGA,QAAM,aAAY,GAAI,SAAhB,aAAgB,CAAC,EAAD,EAAQ;AAC5B,MAAA,QAAQ,CAAC,eAAD,EAAkB,EAAlB,CAAR;AACF,KAFA;;AAGA,QAAM,WAAU,GAAI,SAAd,WAAc,CAAC,EAAD,EAAQ;AAC1B,MAAA,QAAQ,CAAC,aAAD,EAAgB,EAAhB,CAAR;AACF,KAFA;;AAGA,IAAA,SAAS,CAAC,YAAM;AACd,UAAI;AACF,QAAA,QAAQ,CAAC,WAAD,CAAR;AACA,QAAA,QAAQ,CAAC,gBAAD,CAAR;AACA,QAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;AACF,OAJA,CAIE,OAAO,KAAP,EAAc;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACF;AACD,KARQ,CAAT;AASA,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,OAAO,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,SAAZ;AAAA,OAAD,CAFZ;AAGL,MAAA,IAAI,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,IAAZ;AAAA,OAAD,CAHT;AAIL,MAAA,MAAM,EAAN,MAJK;AAKL,MAAA,aAAa,EAAb,aALK;AAML,MAAA,WAAU,EAAV;AANK,KAAP;AAQF;AAvCa,CAAf","sourcesContent":["<template>\n  <div class=\"c-profile\">\n    <topline>\n      <template #headline>\n        <logo color='black'></logo>\n        <div class=\"topline__user-icons\">\n          <profileTools\n            :source=\"this.user?.avatar_url\"\n            @onLogout=\"logout\"\n            @onUser=\"$router.push({name: 'profile'})\"\n            @onHome=\"$router.push({name: 'feeds'})\"\n          ></profileTools>\n        </div>\n      </template>\n    </topline>\n    <div class=\"x-container\">\n      <ul class=\"sides\">\n        <div class=\"left\">\n          <div class=\"left__content\">\n            <div class=\"left__title\">My profile</div>\n            <ProfileUser\n              :loading=\"loading\"\n              :name=\"this.user.login\"\n              :source=\"this.user.avatar_url\"\n              :repCount=\"this.user.public_repos\"\n              :watchCount=\"this.starred.length\"\n              :realName=\"this.user.bio\"\n              @onClickReposts=\"$router.push({ name: 'profile' })\"\n              :isActive=\"false\"\n            />\n          </div>\n        </div>\n        <div class=\"right\">\n          <div class=\"right__content\">\n            <div class=\"right__container-title\">\n              <div class=\"right__title\">Follow</div>\n              <div class=\"right__countRepo\" v-text=\"this.starred.length\"></div>\n            </div>\n            <div class=\"right__container-loading\" v-if=\"this.loading\">\n              <div class=\"right__loading\">\n                <spinner />\n              </div>\n            </div>\n            <ul class=\"following__list\" v-else>\n              <li\n                class=\"following__item\"\n                v-for=\"repos in this.starred\"\n                :key=\"repos.id\"\n              >\n                <div class=\"follow\">\n                  <div class=\"user\">\n                    <div class=\"user__avatar\">\n                      <img\n                        :src=\"repos.owner.avatar_url\"\n                        alt=\"avatar owner\"\n                        class=\"user__avatar-img\"\n                      />\n                    </div>\n                    <div class=\"user__info\">\n                      <div class=\"user__nickname\">{{ repos.owner.login }}</div>\n                      <div class=\"user__profile\">{{ repos.owner.type }}</div>\n                    </div>\n                  </div>\n                  <xButton\n                    isSmall\n                    :theme=\"repos.following?.status ? 'gray' : 'green'\"\n                    :loading=\"repos.following?.loading\"\n                    @onClick=\"repos.following?.status ? starStarred(repos.id) : unStarStarred(repos.id)\"\n                  >\n                    {{ repos.following?.status ? \"Unfollowing\" : \"Following\" }}\n                  </xButton>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport topline from '../../components/topline/topline.vue'\nimport logo from '../../components/logo/logo.vue'\nimport profileTools from '../../components/profileTools/profileTools.vue'\nimport ProfileUser from '../../components/profileUser/profileUser.vue'\nimport button from '../../components/button/button.vue'\nimport spinner from '../../components/spinner/spinner.vue'\nimport { useStore } from 'vuex'\nimport { ref, onMounted, computed } from 'vue'\n\nexport default {\n  name: 'Follow',\n  components: {\n    topline,\n    logo,\n    profileTools,\n    ProfileUser,\n    xButton: button,\n    spinner\n  },\n  setup () {\n    const { dispatch, state } = useStore()\n    const loading = ref(true)\n    const logout = () => {\n      dispatch('logout')\n    }\n    const unStarStarred = (id) => {\n      dispatch('unStarStarred', id)\n    }\n    const starStarred = (id) => {\n      dispatch('starStarred', id)\n    }\n    onMounted(() => {\n      try {\n        dispatch('fetchUser')\n        dispatch('fetchLikedOfMe')\n        loading.value = false\n      } catch (error) {\n        console.log(error)\n      }\n    })\n    return {\n      loading,\n      starred: computed(() => state.likedOfMe),\n      user: computed(() => state.user),\n      logout,\n      unStarStarred,\n      starStarred\n    }\n  }\n}\n</script>\n\n<style src=\"./follow.scss\" lang=\"scss\" scoped></style>\n"],"sourceRoot":""}]}