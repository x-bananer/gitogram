{"remainingRequest":"/Users/xeniya/Desktop/gitogram/node_modules/babel-loader/lib/index.js!/Users/xeniya/Desktop/gitogram/node_modules/eslint-loader/index.js??ref--13-0!/Users/xeniya/Desktop/gitogram/src/router/index.js","dependencies":[{"path":"/Users/xeniya/Desktop/gitogram/src/router/index.js","mtime":1642440951478},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xeniya/Desktop/gitogram/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy94ZW5peWEvRGVza3RvcC9naXRvZ3JhbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGFzaEhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7CmltcG9ydCAqIGFzIGFwaSBmcm9tICcuLi9hcGknOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIGF1dGhSb3V0ZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgYXV0aFJvdXRlID0gdG8ubmFtZSA9PT0gJ2F1dGgnOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBhcGkudXNlci5nZXRVc2VyKCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBuZXh0KGF1dGhSb3V0ZSA/IHsKICAgICAgICAgICAgICBuYW1lOiAnZmVlZHMnCiAgICAgICAgICAgIH0gOiBudWxsKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgbmV4dChhdXRoUm91dGUgPyBudWxsIDogewogICAgICAgICAgICAgICAgbmFtZTogJ2F1dGgnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgN11dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/xeniya/Desktop/gitogram/src/router/index.js"],"names":["createRouter","createWebHashHistory","routes","api","router","history","beforeEach","to","from","next","authRoute","name","user","getUser","response","status"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,oBAAvB,QAAmD,YAAnD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AAEA,IAAMC,MAAM,GAAGJ,YAAY,CAAC;AAC1BK,EAAAA,OAAO,EAAEJ,oBAAoB,EADH;AAE1BC,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAE,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,YAAAA,SADU,GACEH,EAAE,CAACI,IAAH,KAAY,MADd;AAAA;AAAA;AAAA,mBAGRR,GAAG,CAACS,IAAJ,CAASC,OAAT,EAHQ;;AAAA;AAIdJ,YAAAA,IAAI,CAACC,SAAS,GAAG;AAAEC,cAAAA,IAAI,EAAE;AAAR,aAAH,GAAuB,IAAjC,CAAJ;AAJc;AAAA;;AAAA;AAAA;AAAA;;AAMd,gBAAI,YAAMG,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;AACjCN,cAAAA,IAAI,CAACC,SAAS,GAAG,IAAH,GAAU;AAAEC,gBAAAA,IAAI,EAAE;AAAR,eAApB,CAAJ;AACD;;AARa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAWA,eAAeP,MAAf","sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\nimport routes from './routes'\nimport * as api from '../api'\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const authRoute = to.name === 'auth'\n  try {\n    await api.user.getUser()\n    next(authRoute ? { name: 'feeds' } : null)\n  } catch (error) {\n    if (error.response.status === 401) {\n      next(authRoute ? null : { name: 'auth' })\n    }\n  }\n})\nexport default router\n"]}]}